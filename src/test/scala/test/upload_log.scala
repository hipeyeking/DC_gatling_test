package test

import io.gatling.core.Predef._
import io.gatling.http.Predef._
import com.DC_test.demo.scala.App
import com.DC_test.demo.scala.gzip_c
import com.DC_test.demo.scala.RandomData

object upload_log {

  val val_list = List(
    //"[{\"ios.ios\":{\"common\":{\"message_id\":\"1\",\"project_id\":\"8ff7136b-d40a-4571-903e-bb2e4aefceeb\",\"app_id\":\"18e94303355ed4e7fe20f928cb663f99c7de0905\",\"tenant_id\":\"c65a02414ffc1f1e54f257cb5f27325b6f1d0cec\",\"upload_time\":\"1608523241750\",\"Apex_id\":\"57AAD570-D38B-46AF-91A2-3C6D70D2FAA7\",\"session_id\":\"session_1608523241749\",\"app_version\":\"1.0\",\"app_package_id\":\"com.apex.ApexDataTracker\",\"carrier\":\"(null)\",\"mini_program_scene\":null,\"sdk_info\":{\"sdk_version\":\"1.0.0\",\"sdk_type\":\"ios\"},\"device_info\":{\"device_id\":\"\",\"device_model\":\"iPhone 8\",\"device_brand\":\"iphone\",\"device_type\":\"phone\",\"device_uuid\":\"57AAD570-D38B-46AF-91A2-3C6D70D2FAA7\",\"android_id\":\"\",\"imei\":\"\",\"mac\":\"\",\"user_agent\":\"\",\"idfa\":\"E15AF7BF-EF16-4828-BA06-78CBA67B9874\",\"idfv\":\"42DF704A-8841-4F9F-87B7-696E97CD3083\",\"oaid\":\"\"},\"screen\":{\"screen_height\":\"667\",\"screen_width\":\"375\"},\"os\":{\"os_system\":\"ios\",\"os_version\":\"13.6.1\"},\"browser\":null,\"wechat\":null,\"referrer_info\":null,\"market_name\":\"App Store\",\"utm_info\":null},\"events\":[{\"ios.cold_start\":{\"cold_start\":\"1\",\"event_code\":\"cold_start\",\"event_name\":\"冷启动\",\"event_type\":\"cold_start\",\"send_type\":\"all\",\"page_type\":\"ios\",\"ts\":\"1608523241749\",\"network_type\":\"UNKNOW\",\"location_info\":{\"ip\":\"58.213.138.162\"},\"business_info\":null}}]}}]",
    //"[{\"ios.ios\":{\"common\":{\"message_id\":\"1\",\"project_id\":\"8ff7136b-d40a-4571-903e-bb2e4aefceeb\",\"app_id\":\"18e94303355ed4e7fe20f928cb663f99c7de0905\",\"tenant_id\":\"c65a02414ffc1f1e54f257cb5f27325b6f1d0cec\",\"upload_time\":\"1608523241750\",\"Apex_id\":\"57AAD570-D38B-46AF-91A2-3C6D70D2FAA7\",\"session_id\":\"session_1608523241749\",\"app_version\":\"1.0\",\"app_package_id\":\"com.apex.ApexDataTracker\",\"carrier\":\"(null)\",\"mini_program_scene\":null,\"sdk_info\":{\"sdk_version\":\"1.0.0\",\"sdk_type\":\"ios\"},\"device_info\":{\"device_id\":\"\",\"device_model\":\"iPhone 8\",\"device_brand\":\"iphone\",\"device_type\":\"phone\",\"device_uuid\":\"57AAD570-D38B-46AF-91A2-3C6D70D2FAA7\",\"android_id\":\"\",\"imei\":\"\",\"mac\":\"\",\"user_agent\":\"\",\"idfa\":\"E15AF7BF-EF16-4828-BA06-78CBA67B9874\",\"idfv\":\"42DF704A-8841-4F9F-87B7-696E97CD3083\",\"oaid\":\"\"},\"screen\":{\"screen_height\":\"667\",\"screen_width\":\"375\"},\"os\":{\"os_system\":\"ios\",\"os_version\":\"13.6.1\"},\"browser\":null,\"wechat\":null,\"referrer_info\":null,\"market_name\":\"App Store\",\"utm_info\":null},\"events\":[{\"ios.cold_start\":{\"cold_start\":\"1\",\"event_code\":\"cold_start\",\"event_name\":\"冷启动\",\"event_type\":\"cold_start\",\"send_type\":\"all\",\"page_type\":\"ios\",\"ts\":\"1608523241749\",\"network_type\":\"UNKNOW\",\"location_info\":{\"ip\":\"58.213.138.162\"},\"business_info\":null}}]}}]",
    //"[{\"ios.ios\":{\"common\":{\"app_id\":\"24969bdbc29d4d9ae6ffadb353e89332092a835f\",\"message_id\":\"1\",\"carrier\":\"(null)\",\"app_version\":\"1.0\",\"sdk_info\":{\"sdk_type\":\"ios\",\"sdk_version\":\"1.0.0\"},\"device_info\":{\"mac\":\"\",\"idfa\":\"00000000-0000-0000-0000-000000000000\",\"device_brand\":\"iphone\",\"android_id\":\"\",\"device_type\":\"phone\",\"imei\":\"\",\"oaid\":\"\",\"idfv\":\"DDE51A7C-B8AD-4796-A74A-0ACC5BE038CA\",\"device_id\":\"\",\"user_agent\":\"\",\"device_model\":\"Simulator\",\"device_uuid\":\"98CDBA29-2627-4371-9F05-9BA32BD73CB2\"},\"app_package_id\":\"com.apex.ApexDataTracker\",\"market_name\":\"App Store\",\"screen\":{\"screen_width\":\"390\",\"screen_height\":\"844\"},\"os\":{\"os_system\":\"ios\",\"os_version\":\"14.3\"},\"tenant_id\":\"c65a02414ffc1f1e54f257cb5f27325b6f1d0cec\",\"project_id\":\"1cb00feb-456a-456c-85a7-b42e269b5d61\",\"session_id\":\"session_1618815728475\",\"Apex_id\":\"98CDBA29-2627-4371-9F05-9BA32BD73CB2\",\"upload_time\":\"1618815728476\"},\"events\":[{\"ios.cold_start\":{\"event_name\":\"冷启动\",\"event_type\":\"cold_start\",\"ts\":\"1618815728475\",\"send_type\":\"all\",\"location_info\":{\"ip\":\"116.230.104.177\"},\"business_info\":null,\"network_type\":\"UNKNOW\",\"page_type\":\"ios\",\"cold_start\":\"1\",\"event_code\":\"cold_start\"}}]}}]",
    //"[{\"ios.ios\":{\"common\":{\"app_id\":\"24969bdbc29d4d9ae6ffadb353e89332092a835f\",\"message_id\":\"1\",\"carrier\":\"(null)\",\"app_version\":\"1.0\",\"sdk_info\":{\"sdk_type\":\"ios\",\"sdk_version\":\"1.0.0\"},\"device_info\":{\"mac\":\"\",\"idfa\":\"00000000-0000-0000-0000-000000000000\",\"device_brand\":\"iphone\",\"android_id\":\"\",\"device_type\":\"phone\",\"imei\":\"\",\"oaid\":\"\",\"idfv\":\"DDE51A7C-B8AD-4796-A74A-0ACC5BE038CA\",\"device_id\":\"\",\"user_agent\":\"\",\"device_model\":\"Simulator\",\"device_uuid\":\"98CDBA29-2627-4371-9F05-9BA32BD73CB2\"},\"app_package_id\":\"com.apex.ApexDataTracker\",\"market_name\":\"App Store\",\"screen\":{\"screen_width\":\"390\",\"screen_height\":\"844\"},\"os\":{\"os_system\":\"ios\",\"os_version\":\"14.3\"},\"tenant_id\":\"c65a02414ffc1f1e54f257cb5f27325b6f1d0cec\",\"project_id\":\"1cb00feb-456a-456c-85a7-b42e269b5d61\",\"session_id\":\"session_1618815728475\",\"Apex_id\":\"98CDBA29-2627-4371-9F05-9BA32BD73CB2\",\"upload_time\":\"1618815937396\"},\"events\":[{\"ios.hot_start\":{\"event_name\":\"热启动\",\"event_type\":\"hot_start\",\"ts\":\"1618815937396\",\"send_type\":\"all\",\"hot_start\":\"1\",\"business_info\":null,\"location_info\":{\"ip\":\"116.230.104.177\"},\"network_type\":\"UNKNOW\",\"page_type\":\"ios\",\"event_code\":\"hot_start\"}}]}}]",
    "[{\"ios.ios\":{\"common\":{\"app_id\":\"24969bdbc29d4d9ae6ffadb353e89332092a835f\",\"message_id\":\"1\",\"carrier\":\"(null)\",\"app_version\":\"1.0\",\"sdk_info\":{\"sdk_type\":\"ios\",\"sdk_version\":\"1.0.0\"},\"device_info\":{\"mac\":\"\",\"idfa\":\"00000000-0000-0000-0000-000000000000\",\"device_brand\":\"iphone\",\"android_id\":\"\",\"device_type\":\"phone\",\"imei\":\"\",\"oaid\":\"\",\"idfv\":\"DDE51A7C-B8AD-4796-A74A-0ACC5BE038CA\",\"device_id\":\"\",\"user_agent\":\"\",\"device_model\":\"Simulator\",\"device_uuid\":\"98CDBA29-2627-4371-9F05-9BA32BD73CB2\"},\"app_package_id\":\"com.apex.ApexDataTracker\",\"market_name\":\"App Store\",\"screen\":{\"screen_width\":\"390\",\"screen_height\":\"844\"},\"os\":{\"os_system\":\"ios\",\"os_version\":\"14.3\"},\"tenant_id\":\"c65a02414ffc1f1e54f257cb5f27325b6f1d0cec\",\"project_id\":\"1cb00feb-456a-456c-85a7-b42e269b5d61\",\"session_id\":\"session_1618815728475\",\"Apex_id\":\"98CDBA29-2627-4371-9F05-9BA32BD73CB2\",\"upload_time\":\"1618816026792\"},\"events\":[{\"ios.click\":{\"page_type\":\"ios\",\"page_info\":{\"current_page_id\":\"ViewController\",\"current_page_path\":\"com.apex.ApexDataTracker\\\\/ViewController\",\"source_page_name\":\"\",\"current_page_name\":\"首页\",\"source_page_id\":\"\",\"source_page_path\":\"\"},\"event_type\":\"click\",\"location_info\":{\"ip\":\"0.0.0.0\"},\"click\":\"1\",\"event_name\":\"分类\",\"event_code_md5\":\"af2a7409ffc83915\",\"element_info\":{\"element_content\":\"分类\",\"element_path\":\"UITabBarButton(1)&_sendAction:withEvent:\\\\/UITabBar(0) => UITabBarController\"},\"business_info\":null,\"network_type\":\"WIFI\",\"event_code\":\"click_UITabBarButton(1)&_sendAction:withEvent:\\\\/UITabBar(0) => UITabBarController\",\"send_type\":\"all\",\"ts\":\"1618816026792\"}}]}}]",
    "[{\"ios.ios\":{\"common\":{\"app_id\":\"24969bdbc29d4d9ae6ffadb353e89332092a835f\",\"message_id\":\"1\",\"carrier\":\"(null)\",\"app_version\":\"1.0\",\"sdk_info\":{\"sdk_type\":\"ios\",\"sdk_version\":\"1.0.0\"},\"device_info\":{\"mac\":\"\",\"idfa\":\"00000000-0000-0000-0000-000000000000\",\"device_brand\":\"iphone\",\"android_id\":\"\",\"device_type\":\"phone\",\"imei\":\"\",\"oaid\":\"\",\"idfv\":\"DDE51A7C-B8AD-4796-A74A-0ACC5BE038CA\",\"device_id\":\"\",\"user_agent\":\"\",\"device_model\":\"Simulator\",\"device_uuid\":\"98CDBA29-2627-4371-9F05-9BA32BD73CB2\"},\"app_package_id\":\"com.apex.ApexDataTracker\",\"market_name\":\"App Store\",\"screen\":{\"screen_width\":\"390\",\"screen_height\":\"844\"},\"os\":{\"os_system\":\"ios\",\"os_version\":\"14.3\"},\"tenant_id\":\"c65a02414ffc1f1e54f257cb5f27325b6f1d0cec\",\"project_id\":\"1cb00feb-456a-456c-85a7-b42e269b5d61\",\"session_id\":\"session_1618815728475\",\"Apex_id\":\"98CDBA29-2627-4371-9F05-9BA32BD73CB2\",\"upload_time\":\"1618816201426\"},\"events\":[{\"ios.view_page\":{\"page_type\":\"ios\",\"page_info\":{\"current_page_id\":\"ViewController\",\"current_page_path\":\"com.apex.ApexDataTracker\\\\/ViewController\",\"source_page_name\":\"\",\"current_page_name\":\"首页\",\"source_page_id\":\"\",\"source_page_path\":\"\"},\"event_type\":\"view_page\",\"location_info\":{\"ip\":\"0.0.0.0\"},\"browse_time\":\"179847\",\"event_name\":\"首页\",\"view_page\":\"1\",\"event_code_md5\":\"c27b6393ddbd130e\",\"business_info\":null,\"network_type\":\"WIFI\",\"event_code\":\"pageview_ViewController\",\"send_type\":\"all\",\"ts\":\"1618816201426\"}}]}}]",
    //"[{\"ios.ios\":{\"common\":{\"app_id\":\"24969bdbc29d4d9ae6ffadb353e89332092a835f\",\"message_id\":\"1\",\"carrier\":\"(null)\",\"app_version\":\"1.0\",\"sdk_info\":{\"sdk_type\":\"ios\",\"sdk_version\":\"1.0.0\"},\"device_info\":{\"mac\":\"\",\"idfa\":\"00000000-0000-0000-0000-000000000000\",\"device_brand\":\"iphone\",\"android_id\":\"\",\"device_type\":\"phone\",\"imei\":\"\",\"oaid\":\"\",\"idfv\":\"DDE51A7C-B8AD-4796-A74A-0ACC5BE038CA\",\"device_id\":\"\",\"user_agent\":\"\",\"device_model\":\"Simulator\",\"device_uuid\":\"98CDBA29-2627-4371-9F05-9BA32BD73CB2\"},\"app_package_id\":\"com.apex.ApexDataTracker\",\"market_name\":\"App Store\",\"screen\":{\"screen_width\":\"390\",\"screen_height\":\"844\"},\"os\":{\"os_system\":\"ios\",\"os_version\":\"14.3\"},\"tenant_id\":\"c65a02414ffc1f1e54f257cb5f27325b6f1d0cec\",\"project_id\":\"1cb00feb-456a-456c-85a7-b42e269b5d61\",\"session_id\":\"session_1618815728475\",\"Apex_id\":\"98CDBA29-2627-4371-9F05-9BA32BD73CB2\",\"upload_time\":\"1618816361807\"},\"events\":[{\"ios.use_end\":{\"event_name\":\"使用结束\",\"event_type\":\"use_end\",\"ts\":\"1618816361807\",\"send_type\":\"all\",\"use_end\":\"1\",\"business_info\":null,\"event_duration\":\"424411\",\"network_type\":\"WIFI\",\"page_type\":\"ios\",\"location_info\":{\"ip\":\"0.0.0.0\"},\"event_code\":\"use_end\"}}]}]",
    //"[{\"ios.ios\":{\"common\":{\"app_id\":\"24969bdbc29d4d9ae6ffadb353e89332092a835f\",\"message_id\":\"1\",\"carrier\":\"(null)\",\"app_version\":\"1.0\",\"sdk_info\":{\"sdk_type\":\"ios\",\"sdk_version\":\"1.0.0\"},\"device_info\":{\"mac\":\"\",\"idfa\":\"00000000-0000-0000-0000-000000000000\",\"device_brand\":\"iphone\",\"android_id\":\"\",\"device_type\":\"phone\",\"imei\":\"\",\"oaid\":\"\",\"idfv\":\"DDE51A7C-B8AD-4796-A74A-0ACC5BE038CA\",\"device_id\":\"\",\"user_agent\":\"\",\"device_model\":\"Simulator\",\"device_uuid\":\"98CDBA29-2627-4371-9F05-9BA32BD73CB2\"},\"app_package_id\":\"com.apex.ApexDataTracker\",\"market_name\":\"App Store\",\"screen\":{\"screen_width\":\"390\",\"screen_height\":\"844\"},\"os\":{\"os_system\":\"ios\",\"os_version\":\"14.3\"},\"tenant_id\":\"c65a02414ffc1f1e54f257cb5f27325b6f1d0cec\",\"project_id\":\"1cb00feb-456a-456c-85a7-b42e269b5d61\",\"session_id\":\"session_1618815728475\",\"Apex_id\":\"98CDBA29-2627-4371-9F05-9BA32BD73CB2\",\"upload_time\":\"1618816295793\"},\"events\":[{\"ios.custom\":{\"page_type\":\"ios\",\"location_info\":{\"ip\":\"0.0.0.0\"},\"event_type\":\"custom\",\"page_info\":{\"current_page_id\":\"333\",\"current_page_path\":\"com.apex.ApexDataTracker\\\\/com.apex.ApexDataTracker\\\\/DetailViewController\",\"source_page_name\":\"\",\"current_page_name\":\"DetailViewController\",\"source_page_id\":\"\",\"source_page_path\":\"com.apex.ApexDataTracker\\\\/com.apex.ApexDataTracker\\\\/FindViewController\"},\"event_name\":\"代码埋点custom\",\"event_code_md5\":\"1c9dd96550b2248b\",\"business_info\":{\"user_id\":\"\",\"extentions\":{\"age\":\"11\",\"name\":\"jack\"}},\"network_type\":\"WIFI\",\"event_code\":\"代码埋点custom\",\"custom\":\"1\",\"send_type\":\"code\",\"ts\":\"1618816295792\"}]}}]"
  )

  val random_class = new RandomData
  //val data_str1 = random_class.randomDataList.randomList(val_list)

  val schema_str = "{\"type\":\"array\",\"name\":\"bulk\",\"items\":[{\"type\":\"record\",\"name\":\"web\",\"namespace\":\"web\",\"fields\":[{\"name\":\"common_web\",\"type\":\"string\"}]},{\"type\":\"record\",\"name\":\"android\",\"namespace\":\"android\",\"fields\":[{\"name\":\"common_android\",\"type\":\"string\"}]},{\"type\":\"record\",\"name\":\"ios\",\"namespace\":\"ios\",\"fields\":[{\"name\":\"common\",\"type\":{\"name\":\"common_record\",\"type\":\"record\",\"fields\":[{\"name\":\"message_id\",\"type\":\"string\"},{\"name\":\"project_id\",\"type\":\"string\"},{\"name\":\"app_id\",\"type\":\"string\"},{\"name\":\"tenant_id\",\"type\":\"string\"},{\"name\":\"upload_time\",\"type\":\"string\"},{\"name\":\"Apex_id\",\"type\":\"string\"},{\"name\":\"session_id\",\"type\":\"string\"},{\"name\":\"app_version\",\"type\":\"string\"},{\"name\":\"app_package_id\",\"type\":\"string\"},{\"name\":\"carrier\",\"type\":\"string\"},{\"name\":\"mini_program_scene\",\"type\":[\"null\",\"string\"],\"default\":null},{\"name\":\"sdk_info\",\"type\":{\"type\":\"record\",\"name\":\"sdk_info_record\",\"fields\":[{\"name\":\"sdk_version\",\"type\":\"string\"},{\"name\":\"sdk_type\",\"type\":\"string\"}]}},{\"name\":\"device_info\",\"type\":{\"type\":\"record\",\"name\":\"device_info_record\",\"fields\":[{\"name\":\"device_id\",\"type\":\"string\"},{\"name\":\"device_model\",\"type\":\"string\"},{\"name\":\"device_brand\",\"type\":\"string\"},{\"name\":\"device_type\",\"type\":\"string\"},{\"name\":\"device_uuid\",\"type\":\"string\"},{\"name\":\"android_id\",\"type\":\"string\"},{\"name\":\"imei\",\"type\":\"string\"},{\"name\":\"mac\",\"type\":\"string\"},{\"name\":\"user_agent\",\"type\":\"string\"},{\"name\":\"idfa\",\"type\":\"string\"},{\"name\":\"idfv\",\"type\":\"string\"},{\"name\":\"oaid\",\"type\":\"string\"}]}},{\"name\":\"screen\",\"type\":{\"type\":\"record\",\"name\":\"screen_record\",\"fields\":[{\"name\":\"screen_height\",\"type\":\"string\"},{\"name\":\"screen_width\",\"type\":\"string\"}]}},{\"name\":\"os\",\"type\":{\"type\":\"record\",\"name\":\"os_record\",\"fields\":[{\"name\":\"os_system\",\"type\":\"string\"},{\"name\":\"os_version\",\"type\":\"string\"}]}},{\"name\":\"browser\",\"type\":[\"null\",{\"type\":\"record\",\"name\":\"browser_record\",\"fields\":[{\"name\":\"browser_type\",\"type\":\"string\"},{\"name\":\"browser_version\",\"type\":\"string\"}]}],\"default\":null},{\"name\":\"wechat\",\"type\":[\"null\",{\"type\":\"record\",\"name\":\"wechat_record\",\"fields\":[{\"name\":\"wechat_open_id\",\"type\":\"string\"},{\"name\":\"wechat_union_id\",\"type\":\"string\"}]}],\"default\":null},{\"name\":\"referrer_info\",\"type\":[\"null\",{\"type\":\"record\",\"name\":\"referrer_info_record\",\"fields\":[{\"name\":\"referrer_url\",\"type\":\"string\"},{\"name\":\"referrer_host\",\"type\":\"string\"}]}],\"default\":null},{\"name\":\"market_name\",\"type\":\"string\"},{\"name\":\"utm_info\",\"type\":[\"null\",{\"type\":\"record\",\"name\":\"utm_info_record\",\"fields\":[{\"name\":\"utm_matching_type\",\"type\":\"string\"},{\"name\":\"utm_source\",\"type\":\"string\"},{\"name\":\"utm_medium\",\"type\":\"string\"},{\"name\":\"utm_term\",\"type\":\"string\"},{\"name\":\"utm_content\",\"type\":\"string\"},{\"name\":\"utm_campaign\",\"type\":\"string\"}]}],\"default\":null}]}},{\"name\":\"events\",\"type\":{\"type\":\"array\",\"name\":\"events_item\",\"items\":[{\"name\":\"click\",\"type\":\"record\",\"fields\":[{\"name\":\"click\",\"type\":\"string\"},{\"name\":\"event_code\",\"type\":\"string\"},{\"name\":\"event_name\",\"type\":\"string\"},{\"name\":\"event_type\",\"type\":\"string\"},{\"name\":\"send_type\",\"type\":\"string\"},{\"name\":\"page_type\",\"type\":\"string\"},{\"name\":\"ts\",\"type\":\"string\"},{\"name\":\"network_type\",\"type\":\"string\"},{\"name\":\"time_since_last_operation\",\"type\":[\"null\",\"string\"],\"default\":null},{\"name\":\"browse_time\",\"type\":[\"null\",\"string\"],\"default\":null},{\"name\":\"location_info\",\"type\":{\"type\":\"record\",\"name\":\"location_info_record6\",\"fields\":[{\"name\":\"ip\",\"type\":\"string\"}]}},{\"name\":\"business_info\",\"type\":[\"null\",{\"type\":\"record\",\"name\":\"business_info1\",\"fields\":[{\"name\":\"user_id\",\"type\":[\"null\",\"string\"],\"default\":null},{\"name\":\"extentions\",\"type\":[\"null\",{\"type\":\"map\",\"values\":\"string\"}],\"default\":null}]}],\"default\":null},{\"name\":\"page_info\",\"type\":{\"type\":\"record\",\"name\":\"page_info_record1\",\"fields\":[{\"name\":\"current_page_id\",\"type\":[\"null\",\"string\"],\"default\":null},{\"name\":\"current_page_name\",\"type\":[\"null\",\"string\"],\"default\":null},{\"name\":\"current_page_url\",\"type\":[\"null\",\"string\"],\"default\":null},{\"name\":\"current_page_host\",\"type\":[\"null\",\"string\"],\"default\":null},{\"name\":\"current_page_query\",\"type\":[\"null\",\"string\"],\"default\":null},{\"name\":\"current_page_path\",\"type\":\"string\"},{\"name\":\"source_page_id\",\"type\":[\"null\",\"string\"],\"default\":null},{\"name\":\"source_page_name\",\"type\":[\"null\",\"string\"],\"default\":null},{\"name\":\"source_page_url\",\"type\":[\"null\",\"string\"],\"default\":null},{\"name\":\"source_page_host\",\"type\":[\"null\",\"string\"],\"default\":null},{\"name\":\"source_page_query\",\"type\":[\"null\",\"string\"],\"default\":null},{\"name\":\"source_page_path\",\"type\":\"string\"}]}},{\"name\":\"coordinate_info\",\"type\":[\"null\",{\"type\":\"record\",\"name\":\"coordinate_info_record1\",\"fields\":[{\"name\":\"page_X\",\"type\":\"string\"},{\"name\":\"page_Y\",\"type\":\"string\"},{\"name\":\"client_X\",\"type\":\"string\"},{\"name\":\"client_Y\",\"type\":\"string\"}]}],\"default\":null},{\"name\":\"element_info\",\"type\":[\"null\",{\"type\":\"record\",\"name\":\"element_info_record1\",\"fields\":[{\"name\":\"element_id\",\"type\":[\"null\",\"string\"],\"default\":null},{\"name\":\"element_name\",\"type\":[\"null\",\"string\"],\"default\":null},{\"name\":\"element_target_url\",\"type\":[\"null\",\"string\"],\"default\":null},{\"name\":\"element_type\",\"type\":[\"null\",\"string\"],\"default\":null},{\"name\":\"element_content\",\"type\":[\"null\",\"string\"],\"default\":null},{\"name\":\"element_selector\",\"type\":[\"null\",\"string\"],\"default\":null},{\"name\":\"element_position\",\"type\":[\"null\",\"string\"],\"default\":null},{\"name\":\"element_index\",\"type\":[\"null\",\"string\"],\"default\":null},{\"name\":\"element_tag_name\",\"type\":[\"null\",\"string\"],\"default\":null},{\"name\":\"element_class\",\"type\":[\"null\",\"string\"],\"default\":null},{\"name\":\"element_path\",\"type\":[\"null\",\"string\"],\"default\":null}]}],\"default\":null},{\"name\":\"size_info\",\"type\":[\"null\",{\"type\":\"record\",\"name\":\"size_info_record1\",\"fields\":[{\"name\":\"visible_window_width\",\"type\":[\"null\",\"string\"],\"default\":null},{\"name\":\"visible_window_height\",\"type\":[\"null\",\"string\"],\"default\":null},{\"name\":\"page_width\",\"type\":[\"null\",\"string\"],\"default\":null},{\"name\":\"page_height\",\"type\":[\"null\",\"string\"],\"default\":null}]}],\"default\":null},{\"name\":\"event_code_md5\",\"type\":\"string\"}]},{\"name\":\"view_page\",\"type\":\"record\",\"fields\":[{\"name\":\"view_page\",\"type\":\"string\"},{\"name\":\"event_code\",\"type\":\"string\"},{\"name\":\"event_name\",\"type\":\"string\"},{\"name\":\"event_type\",\"type\":\"string\"},{\"name\":\"send_type\",\"type\":\"string\"},{\"name\":\"page_type\",\"type\":\"string\"},{\"name\":\"ts\",\"type\":\"string\"},{\"name\":\"network_type\",\"type\":\"string\"},{\"name\":\"time_since_last_operation\",\"type\":[\"null\",\"string\"],\"default\":null},{\"name\":\"browse_time\",\"type\":\"string\"},{\"name\":\"business_info\",\"type\":[\"null\",{\"type\":\"record\",\"name\":\"business_info2\",\"fields\":[{\"name\":\"user_id\",\"type\":[\"null\",\"string\"],\"default\":null},{\"name\":\"extentions\",\"type\":[\"null\",{\"type\":\"map\",\"values\":\"string\"}],\"default\":null}]}],\"default\":null},{\"name\":\"page_info\",\"type\":{\"type\":\"record\",\"name\":\"page_info_record2\",\"fields\":[{\"name\":\"current_page_id\",\"type\":[\"null\",\"string\"],\"default\":null},{\"name\":\"current_page_name\",\"type\":[\"null\",\"string\"],\"default\":null},{\"name\":\"current_page_url\",\"type\":[\"null\",\"string\"],\"default\":null},{\"name\":\"current_page_host\",\"type\":[\"null\",\"string\"],\"default\":null},{\"name\":\"current_page_query\",\"type\":[\"null\",\"string\"],\"default\":null},{\"name\":\"current_page_path\",\"type\":\"string\"},{\"name\":\"source_page_id\",\"type\":[\"null\",\"string\"],\"default\":null},{\"name\":\"source_page_name\",\"type\":[\"null\",\"string\"],\"default\":null},{\"name\":\"source_page_url\",\"type\":[\"null\",\"string\"],\"default\":null},{\"name\":\"source_page_host\",\"type\":[\"null\",\"string\"],\"default\":null},{\"name\":\"source_page_query\",\"type\":[\"null\",\"string\"],\"default\":null},{\"name\":\"source_page_path\",\"type\":\"string\"}]}},{\"name\":\"location_info\",\"type\":{\"type\":\"record\",\"name\":\"location_info_record1\",\"fields\":[{\"name\":\"ip\",\"type\":\"string\"}]}},{\"name\":\"coordinate_info\",\"type\":[\"null\",{\"type\":\"record\",\"name\":\"coordinate_info_record2\",\"fields\":[{\"name\":\"page_X\",\"type\":\"string\"},{\"name\":\"page_Y\",\"type\":\"string\"},{\"name\":\"client_X\",\"type\":\"string\"},{\"name\":\"client_Y\",\"type\":\"string\"}]}],\"default\":null},{\"name\":\"size_info\",\"type\":[\"null\",{\"type\":\"record\",\"name\":\"size_info_record2\",\"fields\":[{\"name\":\"visible_window_width\",\"type\":[\"null\",\"string\"],\"default\":null},{\"name\":\"visible_window_height\",\"type\":[\"null\",\"string\"],\"default\":null},{\"name\":\"page_width\",\"type\":[\"null\",\"string\"],\"default\":null},{\"name\":\"page_height\",\"type\":[\"null\",\"string\"],\"default\":null}]}],\"default\":null},{\"name\":\"event_code_md5\",\"type\":\"string\"}]},{\"name\":\"custom\",\"type\":\"record\",\"fields\":[{\"name\":\"custom\",\"type\":\"string\"},{\"name\":\"event_code\",\"type\":\"string\"},{\"name\":\"event_name\",\"type\":\"string\"},{\"name\":\"event_type\",\"type\":\"string\"},{\"name\":\"send_type\",\"type\":\"string\"},{\"name\":\"page_type\",\"type\":\"string\"},{\"name\":\"ts\",\"type\":\"string\"},{\"name\":\"network_type\",\"type\":\"string\"},{\"name\":\"time_since_last_operation\",\"type\":[\"null\",\"string\"],\"default\":null},{\"name\":\"browse_time\",\"type\":[\"null\",\"string\"],\"default\":null},{\"name\":\"location_info\",\"type\":{\"type\":\"record\",\"name\":\"location_info_record5\",\"fields\":[{\"name\":\"ip\",\"type\":\"string\"}]}},{\"name\":\"business_info\",\"type\":[\"null\",{\"type\":\"record\",\"name\":\"business_info3\",\"fields\":[{\"name\":\"user_id\",\"type\":[\"null\",\"string\"],\"default\":null},{\"name\":\"extentions\",\"type\":[\"null\",{\"type\":\"map\",\"values\":\"string\"}],\"default\":null}]}],\"default\":null},{\"name\":\"page_info\",\"type\":[\"null\",{\"type\":\"record\",\"name\":\"page_info_record3\",\"fields\":[{\"name\":\"current_page_id\",\"type\":[\"null\",\"string\"],\"default\":null},{\"name\":\"current_page_name\",\"type\":[\"null\",\"string\"],\"default\":null},{\"name\":\"current_page_url\",\"type\":[\"null\",\"string\"],\"default\":null},{\"name\":\"current_page_host\",\"type\":[\"null\",\"string\"],\"default\":null},{\"name\":\"current_page_query\",\"type\":[\"null\",\"string\"],\"default\":null},{\"name\":\"current_page_path\",\"type\":\"string\"},{\"name\":\"source_page_id\",\"type\":[\"null\",\"string\"],\"default\":null},{\"name\":\"source_page_name\",\"type\":[\"null\",\"string\"],\"default\":null},{\"name\":\"source_page_url\",\"type\":[\"null\",\"string\"],\"default\":null},{\"name\":\"source_page_host\",\"type\":[\"null\",\"string\"],\"default\":null},{\"name\":\"source_page_query\",\"type\":[\"null\",\"string\"],\"default\":null},{\"name\":\"source_page_path\",\"type\":\"string\"}]}],\"default\":null},{\"name\":\"size_info\",\"type\":[\"null\",{\"type\":\"record\",\"name\":\"size_info_record3\",\"fields\":[{\"name\":\"visible_window_width\",\"type\":[\"null\",\"string\"],\"default\":null},{\"name\":\"visible_window_height\",\"type\":[\"null\",\"string\"],\"default\":null},{\"name\":\"page_width\",\"type\":[\"null\",\"string\"],\"default\":null},{\"name\":\"page_height\",\"type\":[\"null\",\"string\"],\"default\":null}]}],\"default\":null},{\"name\":\"event_code_md5\",\"type\":[\"null\",\"string\"],\"default\":null}]},{\"name\":\"cold_start\",\"type\":\"record\",\"fields\":[{\"name\":\"cold_start\",\"type\":\"string\"},{\"name\":\"event_code\",\"type\":\"string\"},{\"name\":\"event_name\",\"type\":\"string\"},{\"name\":\"event_type\",\"type\":\"string\"},{\"name\":\"send_type\",\"type\":\"string\"},{\"name\":\"page_type\",\"type\":\"string\"},{\"name\":\"ts\",\"type\":\"string\"},{\"name\":\"network_type\",\"type\":\"string\"},{\"name\":\"location_info\",\"type\":{\"type\":\"record\",\"name\":\"location_info_record3\",\"fields\":[{\"name\":\"ip\",\"type\":\"string\"}]}},{\"name\":\"business_info\",\"type\":[\"null\",{\"type\":\"record\",\"name\":\"business_info4\",\"fields\":[{\"name\":\"user_id\",\"type\":[\"null\",\"string\"],\"default\":null},{\"name\":\"extentions\",\"type\":[\"null\",{\"type\":\"map\",\"values\":\"string\"}],\"default\":null}]}],\"default\":null}]},{\"name\":\"hot_start\",\"type\":\"record\",\"fields\":[{\"name\":\"event_code\",\"type\":\"string\"},{\"name\":\"event_name\",\"type\":\"string\"},{\"name\":\"hot_start\",\"type\":\"string\"},{\"name\":\"event_type\",\"type\":\"string\"},{\"name\":\"send_type\",\"type\":\"string\"},{\"name\":\"page_type\",\"type\":\"string\"},{\"name\":\"ts\",\"type\":\"string\"},{\"name\":\"network_type\",\"type\":\"string\"},{\"name\":\"location_info\",\"type\":{\"type\":\"record\",\"name\":\"location_info_record2\",\"fields\":[{\"name\":\"ip\",\"type\":\"string\"}]}},{\"name\":\"business_info\",\"type\":[\"null\",{\"type\":\"record\",\"name\":\"business_info5\",\"fields\":[{\"name\":\"user_id\",\"type\":[\"null\",\"string\"],\"default\":null},{\"name\":\"extentions\",\"type\":[\"null\",{\"type\":\"map\",\"values\":\"string\"}],\"default\":null}]}],\"default\":null},{\"name\":\"event_code_md5\",\"type\":[\"null\",\"string\"],\"default\":null}]},{\"name\":\"use_end\",\"type\":\"record\",\"fields\":[{\"name\":\"use_end\",\"type\":\"string\"},{\"name\":\"event_code\",\"type\":\"string\"},{\"name\":\"event_name\",\"type\":\"string\"},{\"name\":\"event_type\",\"type\":\"string\"},{\"name\":\"send_type\",\"type\":\"string\"},{\"name\":\"page_type\",\"type\":\"string\"},{\"name\":\"ts\",\"type\":\"string\"},{\"name\":\"network_type\",\"type\":\"string\"},{\"name\":\"event_duration\",\"type\":\"string\"},{\"name\":\"location_info\",\"type\":{\"type\":\"record\",\"name\":\"location_info_record4\",\"fields\":[{\"name\":\"ip\",\"type\":\"string\"}]}},{\"name\":\"business_info\",\"type\":[\"null\",{\"type\":\"record\",\"name\":\"business_info6\",\"fields\":[{\"name\":\"user_id\",\"type\":[\"null\",\"string\"],\"default\":null},{\"name\":\"extentions\",\"type\":[\"null\",{\"type\":\"map\",\"values\":\"string\"}],\"default\":null}]}],\"default\":null},{\"name\":\"event_code_md5\",\"type\":[\"null\",\"string\"],\"default\":null}]}]}}]}]}";
  //val data_str = "[{\"ios.ios\":{\"common\":{\"message_id\":\"1\",\"project_id\":\"8ff7136b-d40a-4571-903e-bb2e4aefceeb\",\"app_id\":\"18e94303355ed4e7fe20f928cb663f99c7de0905\",\"tenant_id\":\"c65a02414ffc1f1e54f257cb5f27325b6f1d0cec\",\"upload_time\":\"1608523241750\",\"Apex_id\":\"57AAD570-D38B-46AF-91A2-3C6D70D2FAA7\",\"session_id\":\"session_1608523241749\",\"app_version\":\"1.0\",\"app_package_id\":\"com.apex.ApexDataTracker\",\"carrier\":\"(null)\",\"mini_program_scene\":null,\"sdk_info\":{\"sdk_version\":\"1.0.0\",\"sdk_type\":\"ios\"},\"device_info\":{\"device_id\":\"\",\"device_model\":\"iPhone 8\",\"device_brand\":\"iphone\",\"device_type\":\"phone\",\"device_uuid\":\"57AAD570-D38B-46AF-91A2-3C6D70D2FAA7\",\"android_id\":\"\",\"imei\":\"\",\"mac\":\"\",\"user_agent\":\"\",\"idfa\":\"E15AF7BF-EF16-4828-BA06-78CBA67B9874\",\"idfv\":\"42DF704A-8841-4F9F-87B7-696E97CD3083\",\"oaid\":\"\"},\"screen\":{\"screen_height\":\"667\",\"screen_width\":\"375\"},\"os\":{\"os_system\":\"ios\",\"os_version\":\"13.6.1\"},\"browser\":null,\"wechat\":null,\"referrer_info\":null,\"market_name\":\"App Store\",\"utm_info\":null},\"events\":[{\"ios.cold_start\":{\"cold_start\":\"1\",\"event_code\":\"cold_start\",\"event_name\":\"冷启动\",\"event_type\":\"cold_start\",\"send_type\":\"all\",\"page_type\":\"ios\",\"ts\":\"1608523241749\",\"network_type\":\"UNKNOW\",\"location_info\":{\"ip\":\"58.213.138.162\"},\"business_info\":null}}]}}]";

  //val regionFeeder = csv("search.csv").random

  val javaClass1 = new App()
  //val data1 = javaClass1.jsonToAvroBin(schema_str, data_str1)
  val javaClass2 = new gzip_c()
  //val data = javaClass2.gzip(data1)

  val all_data = (random_class.randomDataList.getArray(val_list)).toArray
  val mapTypeFeeder = all_data.random
  val Authorization_headers_json = Map("Authorization" -> "Bearer sign=yzi7ArB+0I1uk+I9AXthqcS8RrWNCd3FCaeoCVcVy8gwZIIfwsxY+/Bms7yt8kj1Fuw2Uhlbaq3kHXwI76CICQ==&start_ts=1618555144&end_ts=253402185600&ip=0.0.0.0&payload_enc=BqSj+SbfH9P0JwIjcsBkkfpBwWnBfKbMnDOxZi3epoal6fH4snB7eIaO5q1AbO5xc0ONkDU1c1jxBu696vV2", "Content-Type" -> "application/octet-steam", "Accept-Encoding" -> "gzip,deflate", "Content-Encoding" -> "gzip")
  val scn =
    exec(
      http("springboot_home")
        .post("/buffer/bucket/dc/path/sdk_dev/avro_bulk_gzip")

        .headers(Authorization_headers_json)
        .body(ByteArrayBody("${data}"))
        //.body(ByteArrayBody(javaClass2.gzip(javaClass1.jsonToAvroBin(schema_str, random_class.randomDataList.randomList(val_list)))))
        .check(status.is(200))
        .check(jsonPath("$.code").is("0")))

  //.feed(regionFeeder)


}
